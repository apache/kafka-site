<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>StandbyUpdateListener (kafka 3.7.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.kafka.streams.processor, interface: StandbyUpdateListener">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.kafka.streams.processor</a></div>
<h1 title="Interface StandbyUpdateListener" class="title">Interface StandbyUpdateListener</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">StandbyUpdateListener</span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="StandbyUpdateListener.SuspendReason.html" class="type-name-link" title="enum class in org.apache.kafka.streams.processor">StandbyUpdateListener.SuspendReason</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onBatchLoaded(org.apache.kafka.common.TopicPartition,java.lang.String,org.apache.kafka.streams.processor.TaskId,long,long,long)" class="member-name-link">onBatchLoaded</a><wbr>(<a href="../../common/TopicPartition.html" title="class in org.apache.kafka.common">TopicPartition</a>&nbsp;topicPartition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 <a href="TaskId.html" title="class in org.apache.kafka.streams.processor">TaskId</a>&nbsp;taskId,
 long&nbsp;batchEndOffset,
 long&nbsp;batchSize,
 long&nbsp;currentEndOffset)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Method called after loading a batch of records.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onUpdateStart(org.apache.kafka.common.TopicPartition,java.lang.String,long)" class="member-name-link">onUpdateStart</a><wbr>(<a href="../../common/TopicPartition.html" title="class in org.apache.kafka.common">TopicPartition</a>&nbsp;topicPartition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 long&nbsp;startingOffset)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">A callback that will be invoked after registering the changelogs for each state store in a standby
 task.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onUpdateSuspended(org.apache.kafka.common.TopicPartition,java.lang.String,long,long,org.apache.kafka.streams.processor.StandbyUpdateListener.SuspendReason)" class="member-name-link">onUpdateSuspended</a><wbr>(<a href="../../common/TopicPartition.html" title="class in org.apache.kafka.common">TopicPartition</a>&nbsp;topicPartition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 long&nbsp;storeOffset,
 long&nbsp;currentEndOffset,
 <a href="StandbyUpdateListener.SuspendReason.html" title="enum class in org.apache.kafka.streams.processor">StandbyUpdateListener.SuspendReason</a>&nbsp;reason)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">This method is called when the corresponding standby task stops updating, for the provided reason.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onUpdateStart(org.apache.kafka.common.TopicPartition,java.lang.String,long)">
<h3>onUpdateStart</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onUpdateStart</span><wbr><span class="parameters">(<a href="../../common/TopicPartition.html" title="class in org.apache.kafka.common">TopicPartition</a>&nbsp;topicPartition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 long&nbsp;startingOffset)</span></div>
<div class="block">A callback that will be invoked after registering the changelogs for each state store in a standby
 task. It is guaranteed to always be invoked before any records are loaded into the standby store.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>topicPartition</code> - the changelog TopicPartition for this standby task</dd>
<dd><code>storeName</code> - the name of the store being loaded</dd>
<dd><code>startingOffset</code> - the offset from which the standby task begins consuming from the changelog</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onBatchLoaded(org.apache.kafka.common.TopicPartition,java.lang.String,org.apache.kafka.streams.processor.TaskId,long,long,long)">
<h3>onBatchLoaded</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onBatchLoaded</span><wbr><span class="parameters">(<a href="../../common/TopicPartition.html" title="class in org.apache.kafka.common">TopicPartition</a>&nbsp;topicPartition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 <a href="TaskId.html" title="class in org.apache.kafka.streams.processor">TaskId</a>&nbsp;taskId,
 long&nbsp;batchEndOffset,
 long&nbsp;batchSize,
 long&nbsp;currentEndOffset)</span></div>
<div class="block">Method called after loading a batch of records. In this case the maximum size of the batch is whatever
 the value of the MAX_POLL_RECORDS is set to.
 <n>
 This method is called after loading each batch and it is advised to keep processing to a minimum.
 Any heavy processing will block the state updater thread and slow down the rate of standby task 
 loading. Therefore, if you need to do any extended processing or connect to an external service,
 consider doing so asynchronously.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>topicPartition</code> - the changelog TopicPartition for this standby task</dd>
<dd><code>storeName</code> - the name of the store being loaded</dd>
<dd><code>batchEndOffset</code> - batchEndOffset the changelog end offset (inclusive) of the batch that was just loaded</dd>
<dd><code>batchSize</code> - the total number of records in the batch that was just loaded</dd>
<dd><code>currentEndOffset</code> - the current end offset of the changelog topic partition.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onUpdateSuspended(org.apache.kafka.common.TopicPartition,java.lang.String,long,long,org.apache.kafka.streams.processor.StandbyUpdateListener.SuspendReason)">
<h3>onUpdateSuspended</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onUpdateSuspended</span><wbr><span class="parameters">(<a href="../../common/TopicPartition.html" title="class in org.apache.kafka.common">TopicPartition</a>&nbsp;topicPartition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storeName,
 long&nbsp;storeOffset,
 long&nbsp;currentEndOffset,
 <a href="StandbyUpdateListener.SuspendReason.html" title="enum class in org.apache.kafka.streams.processor">StandbyUpdateListener.SuspendReason</a>&nbsp;reason)</span></div>
<div class="block">This method is called when the corresponding standby task stops updating, for the provided reason.
 <p>
 If the task was <code>MIGRATED</code> to another instance, this callback will be invoked after this
 state store (and the task itself) are closed (in which case the data will be cleaned up after 
 state.cleanup.delay.ms).
 If the task was <code>PROMOTED</code> to an active task, the state store will not be closed, and the 
 callback will be invoked after unregistering it as a standby task but before re-registering it as an active task 
 and beginning restoration. In other words, this will always called before the corresponding 
 <a href="StateRestoreListener.html#onRestoreStart(org.apache.kafka.common.TopicPartition,java.lang.String,long,long)"><code>StateRestoreListener.onRestoreStart(org.apache.kafka.common.TopicPartition, java.lang.String, long, long)</code></a> call is made.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>topicPartition</code> - the changelog TopicPartition for this standby task</dd>
<dd><code>storeName</code> - the name of the store being loaded</dd>
<dd><code>storeOffset</code> - is the offset of the last changelog record that was read and put into the store at the time
 of suspension.</dd>
<dd><code>currentEndOffset</code> - the current end offset of the changelog topic partition.</dd>
<dd><code>reason</code> - is the reason why the standby task was suspended.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
