<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>TaskAssignmentUtils (kafka 3.8.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.kafka.streams.processor.assignment, class: TaskAssignmentUtils">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.kafka.streams.processor.assignment</a></div>
<h1 title="Class TaskAssignmentUtils" class="title">Class TaskAssignmentUtils</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">TaskAssignmentUtils</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A set of utilities to help implement task assignment via the <a href="TaskAssignor.html" title="interface in org.apache.kafka.streams.processor.assignment"><code>TaskAssignor</code></a></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="TaskAssignmentUtils.MoveStandbyTaskPredicate.html" class="type-name-link" title="interface in org.apache.kafka.streams.processor.assignment">TaskAssignmentUtils.MoveStandbyTaskPredicate</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="TaskAssignmentUtils.RackAwareOptimizationParams.html" class="type-name-link" title="class in org.apache.kafka.streams.processor.assignment">TaskAssignmentUtils.RackAwareOptimizationParams</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A simple config container for necessary parameters and optional overrides to apply when
 running the active or standby task rack-aware optimizations.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#defaultStandbyTaskAssignment(org.apache.kafka.streams.processor.assignment.ApplicationState,java.util.Map)" class="member-name-link">defaultStandbyTaskAssignment</a><wbr>(<a href="ApplicationState.html" title="interface in org.apache.kafka.streams.processor.assignment">ApplicationState</a>&nbsp;applicationState,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;&nbsp;kafkaStreamsAssignments)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Assign standby tasks to KafkaStreams clients according to the default logic.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#identityAssignment(org.apache.kafka.streams.processor.assignment.ApplicationState)" class="member-name-link">identityAssignment</a><wbr>(<a href="ApplicationState.html" title="interface in org.apache.kafka.streams.processor.assignment">ApplicationState</a>&nbsp;applicationState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return a "no-op" assignment that just copies the previous assignment of tasks to KafkaStreams clients</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#optimizeRackAwareActiveTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams,java.util.Map)" class="member-name-link">optimizeRackAwareActiveTasks</a><wbr>(<a href="TaskAssignmentUtils.RackAwareOptimizationParams.html" title="class in org.apache.kafka.streams.processor.assignment">TaskAssignmentUtils.RackAwareOptimizationParams</a>&nbsp;optimizationParams,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;&nbsp;kafkaStreamsAssignments)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Optimize active task assignment for rack awareness.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#optimizeRackAwareStandbyTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams,java.util.Map)" class="member-name-link">optimizeRackAwareStandbyTasks</a><wbr>(<a href="TaskAssignmentUtils.RackAwareOptimizationParams.html" title="class in org.apache.kafka.streams.processor.assignment">TaskAssignmentUtils.RackAwareOptimizationParams</a>&nbsp;optimizationParams,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;&nbsp;kafkaStreamsAssignments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Optimize standby task assignment for rack awareness.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="TaskAssignor.AssignmentError.html" title="enum class in org.apache.kafka.streams.processor.assignment">TaskAssignor.AssignmentError</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#validateTaskAssignment(org.apache.kafka.streams.processor.assignment.ApplicationState,org.apache.kafka.streams.processor.assignment.TaskAssignor.TaskAssignment)" class="member-name-link">validateTaskAssignment</a><wbr>(<a href="ApplicationState.html" title="interface in org.apache.kafka.streams.processor.assignment">ApplicationState</a>&nbsp;applicationState,
 <a href="TaskAssignor.TaskAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">TaskAssignor.TaskAssignment</a>&nbsp;taskAssignment)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Validate the passed-in <a href="TaskAssignor.TaskAssignment.html" title="class in org.apache.kafka.streams.processor.assignment"><code>TaskAssignor.TaskAssignment</code></a> and return an <a href="TaskAssignor.AssignmentError.html" title="enum class in org.apache.kafka.streams.processor.assignment"><code>TaskAssignor.AssignmentError</code></a> representing the
 first error detected in the assignment, or <a href="TaskAssignor.AssignmentError.html#NONE"><code>TaskAssignor.AssignmentError.NONE</code></a> if the assignment passes the
 verification check.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="validateTaskAssignment(org.apache.kafka.streams.processor.assignment.ApplicationState,org.apache.kafka.streams.processor.assignment.TaskAssignor.TaskAssignment)">
<h3>validateTaskAssignment</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="TaskAssignor.AssignmentError.html" title="enum class in org.apache.kafka.streams.processor.assignment">TaskAssignor.AssignmentError</a></span>&nbsp;<span class="element-name">validateTaskAssignment</span><wbr><span class="parameters">(<a href="ApplicationState.html" title="interface in org.apache.kafka.streams.processor.assignment">ApplicationState</a>&nbsp;applicationState,
 <a href="TaskAssignor.TaskAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">TaskAssignor.TaskAssignment</a>&nbsp;taskAssignment)</span></div>
<div class="block">Validate the passed-in <a href="TaskAssignor.TaskAssignment.html" title="class in org.apache.kafka.streams.processor.assignment"><code>TaskAssignor.TaskAssignment</code></a> and return an <a href="TaskAssignor.AssignmentError.html" title="enum class in org.apache.kafka.streams.processor.assignment"><code>TaskAssignor.AssignmentError</code></a> representing the
 first error detected in the assignment, or <a href="TaskAssignor.AssignmentError.html#NONE"><code>TaskAssignor.AssignmentError.NONE</code></a> if the assignment passes the
 verification check.
 <p>
 Note: this verification is performed automatically by the StreamsPartitionAssignor on the assignment
 returned by the TaskAssignor, and the error returned to the assignor via the <a href="TaskAssignor.html#onAssignmentComputed(org.apache.kafka.clients.consumer.ConsumerPartitionAssignor.GroupAssignment,org.apache.kafka.clients.consumer.ConsumerPartitionAssignor.GroupSubscription,org.apache.kafka.streams.processor.assignment.TaskAssignor.AssignmentError)"><code>TaskAssignor.onAssignmentComputed(org.apache.kafka.clients.consumer.ConsumerPartitionAssignor.GroupAssignment, org.apache.kafka.clients.consumer.ConsumerPartitionAssignor.GroupSubscription, org.apache.kafka.streams.processor.assignment.TaskAssignor.AssignmentError)</code></a>
 callback. Therefore, it is not required to call this manually from the <a href="TaskAssignor.html#assign(org.apache.kafka.streams.processor.assignment.ApplicationState)"><code>TaskAssignor.assign(org.apache.kafka.streams.processor.assignment.ApplicationState)</code></a> method.
 However, if an invalid assignment is returned it will fail the rebalance and kill the thread, so it may be useful to
 utilize this method in an assignor to verify the assignment before returning it and fix any errors it finds.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>applicationState</code> - The application for which this task assignment is being assessed.</dd>
<dd><code>taskAssignment</code> - The task assignment that will be validated.</dd>
<dt>Returns:</dt>
<dd><code>AssignmentError.NONE</code> if the assignment created for this application is valid,
         or another <code>AssignmentError</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="identityAssignment(org.apache.kafka.streams.processor.assignment.ApplicationState)">
<h3>identityAssignment</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;</span>&nbsp;<span class="element-name">identityAssignment</span><wbr><span class="parameters">(<a href="ApplicationState.html" title="interface in org.apache.kafka.streams.processor.assignment">ApplicationState</a>&nbsp;applicationState)</span></div>
<div class="block">Return a "no-op" assignment that just copies the previous assignment of tasks to KafkaStreams clients</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>applicationState</code> - the metadata and other info describing the current application state</dd>
<dt>Returns:</dt>
<dd>a new map containing an assignment that replicates exactly the previous assignment reported
         in the applicationState</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="defaultStandbyTaskAssignment(org.apache.kafka.streams.processor.assignment.ApplicationState,java.util.Map)">
<h3>defaultStandbyTaskAssignment</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">defaultStandbyTaskAssignment</span><wbr><span class="parameters">(<a href="ApplicationState.html" title="interface in org.apache.kafka.streams.processor.assignment">ApplicationState</a>&nbsp;applicationState,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;&nbsp;kafkaStreamsAssignments)</span></div>
<div class="block">Assign standby tasks to KafkaStreams clients according to the default logic.
 <p>
 If rack-aware client tags are configured, the rack-aware standby task assignor will be used</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>applicationState</code> - the metadata and other info describing the current application state</dd>
<dd><code>kafkaStreamsAssignments</code> - the KafkaStreams client assignments to add standby tasks to</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="optimizeRackAwareActiveTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams,java.util.Map)">
<h3>optimizeRackAwareActiveTasks</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">optimizeRackAwareActiveTasks</span><wbr><span class="parameters">(<a href="TaskAssignmentUtils.RackAwareOptimizationParams.html" title="class in org.apache.kafka.streams.processor.assignment">TaskAssignmentUtils.RackAwareOptimizationParams</a>&nbsp;optimizationParams,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;&nbsp;kafkaStreamsAssignments)</span></div>
<div class="block">Optimize active task assignment for rack awareness. This optimization is based on the
 <a href="../../StreamsConfig.html#RACK_AWARE_ASSIGNMENT_TRAFFIC_COST_CONFIG"><code>trafficCost</code></a>
 and <a href="../../StreamsConfig.html#RACK_AWARE_ASSIGNMENT_NON_OVERLAP_COST_CONFIG"><code>nonOverlapCost</code></a>
 configs which balance cross rack traffic minimization and task movement.
 Setting <code>trafficCost</code> to a larger number reduces the overall cross rack traffic of the resulting
 assignment, but can increase the number of tasks shuffled around between clients.
 Setting <code>nonOverlapCost</code> to a larger number increases the affinity of tasks to their intended client
 and reduces the amount by which the rack-aware optimization can shuffle tasks around, at the cost of higher
 cross-rack traffic.
 In an extreme case, if we set <code>nonOverlapCost</code> to 0 and @{code trafficCost} to a positive value,
 the resulting assignment will have an absolute minimum of cross rack traffic. If we set <code>trafficCost</code> to 0,
 and <code>nonOverlapCost</code> to a positive value, the resulting assignment will be identical to the input assignment.
 <p>
 Note: this method will modify the input <a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment"><code>KafkaStreamsAssignment</code></a> objects and return the same map.
 It does not make a copy of the map or the KafkaStreamsAssignment objects.
 <p>
 This method optimizes cross-rack traffic for active tasks only. For standby task optimization,
 use <a href="#optimizeRackAwareStandbyTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams,java.util.Map)"><code>optimizeRackAwareStandbyTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams, java.util.Map&lt;org.apache.kafka.streams.processor.assignment.ProcessId, org.apache.kafka.streams.processor.assignment.KafkaStreamsAssignment&gt;)</code></a>.
 <p>
 It is recommended to run this optimization before assigning any standby tasks, especially if you have configured
 your KafkaStreams clients with assignment tags via the rack.aware.assignment.tags config since this method may
 shuffle around active tasks without considering the client tags and can result in a violation of the original
 client tag assignment's constraints.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>optimizationParams</code> - optional configuration parameters to apply</dd>
<dd><code>kafkaStreamsAssignments</code> - the current assignment of tasks to KafkaStreams clients</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="optimizeRackAwareStandbyTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams,java.util.Map)">
<h3>optimizeRackAwareStandbyTasks</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">optimizeRackAwareStandbyTasks</span><wbr><span class="parameters">(<a href="TaskAssignmentUtils.RackAwareOptimizationParams.html" title="class in org.apache.kafka.streams.processor.assignment">TaskAssignmentUtils.RackAwareOptimizationParams</a>&nbsp;optimizationParams,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="ProcessId.html" title="class in org.apache.kafka.streams.processor.assignment">ProcessId</a>,<wbr><a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment">KafkaStreamsAssignment</a>&gt;&nbsp;kafkaStreamsAssignments)</span></div>
<div class="block">Optimize standby task assignment for rack awareness. This optimization is based on the
 <a href="../../StreamsConfig.html#RACK_AWARE_ASSIGNMENT_TRAFFIC_COST_CONFIG"><code>trafficCost</code></a>
 and <a href="../../StreamsConfig.html#RACK_AWARE_ASSIGNMENT_NON_OVERLAP_COST_CONFIG"><code>nonOverlapCost</code></a>
 configs which balance cross rack traffic minimization and task movement.
 Setting <code>trafficCost</code> to a larger number reduces the overall cross rack traffic of the resulting
 assignment, but can increase the number of tasks shuffled around between clients.
 Setting <code>nonOverlapCost</code> to a larger number increases the affinity of tasks to their intended client
 and reduces the amount by which the rack-aware optimization can shuffle tasks around, at the cost of higher
 cross-rack traffic.
 In an extreme case, if we set <code>nonOverlapCost</code> to 0 and @{code trafficCost} to a positive value,
 the resulting assignment will have an absolute minimum of cross rack traffic. If we set <code>trafficCost</code> to 0,
 and <code>nonOverlapCost</code> to a positive value, the resulting assignment will be identical to the input assignment.
 <p>
 Note: this method will modify the input <a href="KafkaStreamsAssignment.html" title="class in org.apache.kafka.streams.processor.assignment"><code>KafkaStreamsAssignment</code></a> objects and return the same map.
 It does not make a copy of the map or the KafkaStreamsAssignment objects.
 <p>
 This method optimizes cross-rack traffic for standby tasks only. For active task optimization,
 use <a href="#optimizeRackAwareActiveTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams,java.util.Map)"><code>optimizeRackAwareActiveTasks(org.apache.kafka.streams.processor.assignment.TaskAssignmentUtils.RackAwareOptimizationParams, java.util.Map&lt;org.apache.kafka.streams.processor.assignment.ProcessId, org.apache.kafka.streams.processor.assignment.KafkaStreamsAssignment&gt;)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>optimizationParams</code> - optional configuration parameters to apply</dd>
<dd><code>kafkaStreamsAssignments</code> - the current assignment of tasks to KafkaStreams clients</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
