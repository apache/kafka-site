<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ProcessorContext (kafka 3.8.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.kafka.streams.processor.api, interface: ProcessorContext">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.kafka.streams.processor.api</a></div>
<h1 title="Interface ProcessorContext" class="title">Interface ProcessorContext&lt;KForward,<wbr>VForward&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>KForward</code> - a bound on the types of keys that may be forwarded</dd>
<dd><code>VForward</code> - a bound on the types of values that may be forwarded</dd>
</dl>
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="ProcessingContext.html" title="interface in org.apache.kafka.streams.processor.api">ProcessingContext</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="MockProcessorContext.html" title="class in org.apache.kafka.streams.processor.api">MockProcessorContext</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ProcessorContext&lt;KForward,<wbr>VForward&gt;</span><span class="extends-implements">
extends <a href="ProcessingContext.html" title="interface in org.apache.kafka.streams.processor.api">ProcessingContext</a></span></div>
<div class="block">Processor context interface for <a href="Record.html" title="class in org.apache.kafka.streams.processor.api"><code>Record</code></a>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;K extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">KForward</a>,<wbr>
V extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">VForward</a>&gt;<br>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#forward(org.apache.kafka.streams.processor.api.Record)" class="member-name-link">forward</a><wbr>(<a href="Record.html" title="class in org.apache.kafka.streams.processor.api">Record</a>&lt;K,<wbr>V&gt;&nbsp;record)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Forward a record to all child processors.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;K extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">KForward</a>,<wbr>
V extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">VForward</a>&gt;<br>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#forward(org.apache.kafka.streams.processor.api.Record,java.lang.String)" class="member-name-link">forward</a><wbr>(<a href="Record.html" title="class in org.apache.kafka.streams.processor.api">Record</a>&lt;K,<wbr>V&gt;&nbsp;record,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;childName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Forward a record to the specified child processor.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.kafka.streams.processor.api.ProcessingContext">Methods inherited from interface&nbsp;org.apache.kafka.streams.processor.api.<a href="ProcessingContext.html" title="interface in org.apache.kafka.streams.processor.api">ProcessingContext</a></h3>
<code><a href="ProcessingContext.html#appConfigs()">appConfigs</a>, <a href="ProcessingContext.html#appConfigsWithPrefix(java.lang.String)">appConfigsWithPrefix</a>, <a href="ProcessingContext.html#applicationId()">applicationId</a>, <a href="ProcessingContext.html#commit()">commit</a>, <a href="ProcessingContext.html#currentStreamTimeMs()">currentStreamTimeMs</a>, <a href="ProcessingContext.html#currentSystemTimeMs()">currentSystemTimeMs</a>, <a href="ProcessingContext.html#getStateStore(java.lang.String)">getStateStore</a>, <a href="ProcessingContext.html#keySerde()">keySerde</a>, <a href="ProcessingContext.html#metrics()">metrics</a>, <a href="ProcessingContext.html#recordMetadata()">recordMetadata</a>, <a href="ProcessingContext.html#schedule(java.time.Duration,org.apache.kafka.streams.processor.PunctuationType,org.apache.kafka.streams.processor.Punctuator)">schedule</a>, <a href="ProcessingContext.html#stateDir()">stateDir</a>, <a href="ProcessingContext.html#taskId()">taskId</a>, <a href="ProcessingContext.html#valueSerde()">valueSerde</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="forward(org.apache.kafka.streams.processor.api.Record)">
<h3>forward</h3>
<div class="member-signature"><span class="type-parameters">&lt;K extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">KForward</a>,<wbr>
V extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">VForward</a>&gt;</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">forward</span><wbr><span class="parameters">(<a href="Record.html" title="class in org.apache.kafka.streams.processor.api">Record</a>&lt;K,<wbr>V&gt;&nbsp;record)</span></div>
<div class="block">Forward a record to all child processors.
 <p>
 Note that the forwarded <a href="Record.html" title="class in org.apache.kafka.streams.processor.api"><code>Record</code></a> is shared between the parent and child
 processors. And of course, the parent may forward the same object to multiple children,
 and the child may forward it to grandchildren, etc. Therefore, you should be mindful
 of mutability.
 <p>
 The <a href="Record.html" title="class in org.apache.kafka.streams.processor.api"><code>Record</code></a> class itself is immutable (all the setter-style methods return an
 independent copy of the instance). However, the key, value, and headers referenced by
 the Record may themselves be mutable.
 <p>
 Some programs may opt to make use of this mutability for high performance, in which case
 the input record may be mutated and then forwarded by each <a href="Processor.html" title="interface in org.apache.kafka.streams.processor.api"><code>Processor</code></a>. However,
 most applications should instead favor safety.
 <p>
 Forwarding records safely simply means to make a copy of the record before you mutate it.
 This is trivial when using the <a href="Record.html#withKey(NewK)"><code>Record.withKey(Object)</code></a>, <a href="Record.html#withValue(NewV)"><code>Record.withValue(Object)</code></a>,
 and <a href="Record.html#withTimestamp(long)"><code>Record.withTimestamp(long)</code></a> methods, as each of these methods make a copy of the
 record as a matter of course. But a little extra care must be taken with headers, since
 the <a href="../../../common/header/Header.html" title="interface in org.apache.kafka.common.header"><code>Header</code></a> class is mutable. The easiest way to
 safely handle headers is to use the <a href="Record.html" title="class in org.apache.kafka.streams.processor.api"><code>Record</code></a> constructors to make a copy before
 modifying headers.
 <p>
 In other words, this would be considered unsafe:
 <code>
     process(Record inputRecord) {
         inputRecord.headers().add(...);
         context.forward(inputRecord);
     }
 </code>
 This is unsafe because the parent, and potentially siblings, grandparents, etc.,
 all will see this modification to their shared Headers reference. This is a violation
 of causality and could lead to undefined behavior.
 <p>
 A safe usage would look like this:
 <code>
     process(Record inputRecord) {
         // makes a copy of the headers
         Record toForward = inputRecord.withHeaders(inputRecord.headers());
         // Other options to create a safe copy are:
         // * use any copy-on-write method, which makes a copy of all fields:
         //   toForward = inputRecord.withValue();
         // * explicitly copy all fields:
         //   toForward = new Record(inputRecord.key(), inputRecord.value(), inputRecord.timestamp(), inputRecord.headers());
         // * create a fresh, empty Headers:
         //   toForward = new Record(inputRecord.key(), inputRecord.value(), inputRecord.timestamp());
         // * etc.

         // now, we are modifying our own independent copy of the headers.
         toForward.headers().add(...);
         context.forward(toForward);
     }
 </code></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>record</code> - The record to forward to all children</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="forward(org.apache.kafka.streams.processor.api.Record,java.lang.String)">
<h3>forward</h3>
<div class="member-signature"><span class="type-parameters">&lt;K extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">KForward</a>,<wbr>
V extends <a href="ProcessorContext.html" title="type parameter in ProcessorContext">VForward</a>&gt;</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">forward</span><wbr><span class="parameters">(<a href="Record.html" title="class in org.apache.kafka.streams.processor.api">Record</a>&lt;K,<wbr>V&gt;&nbsp;record,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;childName)</span></div>
<div class="block">Forward a record to the specified child processor.
 See <a href="#forward(org.apache.kafka.streams.processor.api.Record)"><code>forward(Record)</code></a> for considerations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>record</code> - The record to forward</dd>
<dd><code>childName</code> - The name of the child processor to receive the record</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#forward(org.apache.kafka.streams.processor.api.Record)"><code>forward(Record)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
